define(["require","app"],function(require,app){app.factory("utils",["$rootScope","$state","$timeout",function(e,i,n){return{browser:function(){var e=navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")==-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/)||!!e.match(/AppleWebKit/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")==-1,weChat:e.indexOf("MicroMessenger")>-1,aliPay:e.indexOf("AlipayDefisned")>-1,onePlus:e.indexOf("A0001")>-1||e.indexOf("A1001")>-1,meiZu:e.indexOf("M351")>-1||e.indexOf("M353")>-1,sfPay:e.indexOf("[SF-V")>-1,sfExpress:e.indexOf("SFEXPRESSAPP")>-1,uc:e.indexOf("UCBrowser")>-1}},toast:function(i){if(i&&""!=i){e.toastStyle="toast",e.toastMessage=i;var t=n(function(){e.toastStyle="hidden",n.cancel(t)},1500)}},urlparse:function(){var e=location.search,i=location.hash,n=[],t={},f=[],d=location.href;if(d.indexOf("?#/")>0&&(d=d.substring(0,d.indexOf("?#/"))+d.substr(d.indexOf("?#/")+1)),d.indexOf("#/")<d.indexOf("?")){var o=d.split("?");e=o[1],o[0].indexOf("#/")>0&&(i=o[0].split("#/")[1])}e=0==e.indexOf("?")?e.slice(1):e,e=""==e?i:e,e=0==e.indexOf("#/?")?e.slice(3):e,n=""!=e?e.split("&"):[];for(var a=n.length,r=0;r<a;r++)f=n[r].split("="),t[f[0]]=f.length>1?f[1]:"";return t}}}])});