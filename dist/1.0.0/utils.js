define(["require","app"],function(require,app){app.factory("utils",["$rootScope","$state","$timeout",function(e,i,n){return{browser:function(){var e=navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")==-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/)||!!e.match(/AppleWebKit/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")==-1,weChat:e.indexOf("MicroMessenger")>-1,aliPay:e.indexOf("AlipayDefisned")>-1,onePlus:e.indexOf("A0001")>-1||e.indexOf("A1001")>-1,meiZu:e.indexOf("M351")>-1||e.indexOf("M353")>-1,sfPay:e.indexOf("[SF-V")>-1,sfExpress:e.indexOf("SFEXPRESSAPP")>-1,uc:e.indexOf("UCBrowser")>-1}},toast:function(i){if(i&&""!=i){e.toastStyle="toast",e.toastMessage=i;var t=n(function(){e.toastStyle="hidden",n.cancel(t)},1500)}},urlparse:function(){var e=location.search,i=location.hash,n=[],t={},s=[],a=location.href;if(a.indexOf("?#/")>0&&(a=a.substring(0,a.indexOf("?#/"))+a.substr(a.indexOf("?#/")+1)),a.indexOf("#/")<a.indexOf("?")){var d=a.split("?");e=d[1],d[0].indexOf("#/")>0&&(i=d[0].split("#/")[1])}e=0==e.indexOf("?")?e.slice(1):e,e=""==e?i:e,e=0==e.indexOf("#/?")?e.slice(3):e,n=""!=e?e.split("&"):[];for(var f=n.length,o=0;o<f;o++)s=n[o].split("="),t[s[0]]=s.length>1?s[1]:"";return t},checkMobile:function(e){var i=/^134[0-8]\d{7}$|^(?:13[5-9]|147|15[0-27-9]|178|18[2-478])\d{8}$/,n=/^(?:13[0-2]|145|15[56]|176|18[56])\d{8}$/,t=/^(?:133|153|177|18[019])\d{8}$/,s=/^170([059])\d{7}$/;return 11!==e.length?{status:!1,msg:"未检测到正确的手机号码",name:""}:i.test(e)?{status:!0,msg:"中国移动",name:"ChinaMobile"}:n.test(e)?{status:!0,msg:"中国联通",name:"ChinaUnion"}:t.test(e)?{status:!0,msg:"中国电信",name:"ChinaTelcom"}:s.test(e)?{status:!0,msg:"其他",name:"other"}:{status:!1,msg:"未检测到正确的手机号码",name:""}}}}])});